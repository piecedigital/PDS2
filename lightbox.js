$(document).ready(function(){function i(){$("#opacity-box").animate({opacity:1},300)}function o(){$("#opacity-box").animate({opacity:0},300,n)}function s(){h-=1,1>h&&(h=d),a=$("#images #port-img:nth-child("+h+")").html(),$("#lightbox").html(a),g=$("#images #port-img:nth-child("+h+")").data("subtitle"),$("#subtitle").html(g),r=$("#images #port-img:nth-child("+h+")").data("image-desc"),$("#description").html(r),l(),console.log(a),console.log("current image is "+h),console.log("Image name: "+g),console.log(r)}function e(){h+=1,h>d&&(h=1),a=$("#images #port-img:nth-child("+h+")").html(),$("#lightbox").html(a),g=$("#images #port-img:nth-child("+h+")").data("subtitle"),$("#subtitle").html(g),r=$("#images #port-img:nth-child("+h+")").data("image-desc"),$("#description").html(r),l(),console.log(a),console.log("current image is "+h),console.log("Image name: "+g),console.log(r)}function t(){a=$(this).html(),h=$(this).data("this-image"),r=$(this).data("image-desc"),g=$(this).data("subtitle"),$("#opacity-box").css({visibility:"visible"}),$("#backdrop").css({visibility:"visible"}),$("#lightbox").css({visibility:"visible"}),$("#subtitle").css({visibility:"visible"}),$("#close").css({visibility:"visible"}),$("#next-button").css({visibility:"visible"}),$("#prev-button").css({visibility:"visible"}),$("#header").css({"z-index":"0"}),$("#footer").css({"z-index":"-1"}),$("#lightbox").html(a),$("#subtitle").html(g),i(),l(),b=!0,console.log(a),console.log("lightbox opened"),console.log("current image is "+h),console.log("Image name: "+g),console.log(r)}function l(){$.ajax({url:r,dataType:"text",success:function(i){console.log("file opened"),$("#description").html("<p>"+i+"</p>"),console.log(i)}}),console.log("function initiated")}function c(){function i(){$("#description").css({display:"none"})}$("#description").hasClass("slide")?(window.setTimeout(i,500),$("#description").removeClass("slide"),$("#description").addClass("unslide")):($("#description").css({display:"block"}),$("#description").removeClass("unslide"),$("#description").addClass("slide")),console.log("image clicked")}function n(){$("#opacity-box").css({visibility:"hidden"}),$("#backdrop").css({visibility:"hidden"}),$("#lightbox").css({visibility:"hidden"}),$("#description").css({display:"none"}),$("#subtitle").css({visibility:"hidden"}),$("#close").css({visibility:"hidden"}),$("#next-button").css({visibility:"hidden"}),$("#prev-button").css({visibility:"hidden"}),$("#header").css({"z-index":"1"}),$("#footer").css({"z-index":"0"}),$("#lightbox").html(""),$("#subtitle").html(""),$("#description").html(""),g="",a="",b=!1,console.log(a),console.log("lightbox closed")}var a,d=d=$("#images > div#port-img").size();console.log(d);var g,r,h=2,b=!1,m="~ Controls ~<br>Space/I/Clicking the image: Show/Hide description | Left/Right: Navigate through images | Esc: Close lightbox",p=$("#images").find("div#port-img").toArray();for(var u in p)console.log(p[u]);$(".portfolio p:first-child").html(m),$("#images #port-img").on("click",t),$("#prev-button").on("click",s),$("#next-button").on("click",e),$("#lightbox").on("click",c),$("#description").on("click",c),$("#close").on("click",o),$("#backdrop").on("click",o),$(document).keydown(function(i){switch(i.keyCode){case 27:o(),console.log("escape key pressed");break;case 37:s(),console.log("left key pressed");break;case 39:e(),console.log("right key pressed");break;case 32:case 73:b&&(c(),console.log("description opened"))}})});